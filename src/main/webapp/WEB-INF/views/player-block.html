<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head></head>
<body>
    <div th:fragment="playerCard(playerNum, playerName, playerScores, colorClass)">
        <div class="card player-card h-100">
            <div th:class="'card-header ' + ${colorClass} + ' text-white'">
                <h5 class="mb-0">
                    <i class="fas fa-user me-2"></i>
                    <span th:text="${playerName != null and playerName != '' ? playerName : 'Player ' + playerNum}"></span>
                </h5>
            </div>
            <div class="card-body">
                <h6 class="text-muted mb-3">Holes' score:</h6>
                <div class="row g-2">
                    <div class="col-2" th:each="i : ${#numbers.sequence(1, 18)}">
                        <label th:text="${i}" class="form-label hole-number"></label>
                        <input type="number" class="form-control hole-input"
                               th:name="'player' + ${playerNum} + 'Scores'"
                               th:value="${playerScores != null ? playerScores[i-1] : 0}"
                               min="1" max="100" required>
                    </div>
                </div>
                <div class="mt-3">
                    <div class="total-score text-center">
                        <i class="fas fa-calculator me-2"></i>
                        Total score: <span th:text="${playerScores != null ? #numbers.formatDecimal(playerScores.stream().mapToInt(T(Integer).intValue).sum(), 1, 0) : 0}"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 